{
  "comments": [
    {
      "key": {
        "uuid": "b6683813_d0dce765",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2020-09-27T01:06:40Z",
      "side": 1,
      "message": "disregard the 32 bit arm build bot failure.  The code is tested on 32 bit arm ok, but not optimized\n\n32 bit on A53\nadbrun -- taskset c0 /google/src/cloud/fbarchard/nv12/google3/blaze-bin/third_party/libyuv/libyuv_test \u0027--gunit_filter\u003d*NV12Scale*Bilinear\u0027 --libyuv_width\u003d1280 --libyuv_height\u003d720 --libyuv_repeat\u003d1000 --libyuv_flags\u003d-1 --libyuv_cpu_info\u003d-1\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 10 tests from 1 test suite ran. (32578 ms total)\n[----------] 10 tests from LibYUVScaleTest (32577 ms total)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy4_Bilinear (9520 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3by8_Bilinear (8938 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3by4_Bilinear (3637 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy2_Bilinear (3031 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3_Bilinear (3027 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo569x480_Bilinear (2272 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo640x360_Bilinear (915 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo1280x720_Bilinear (713 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo320x240_Bilinear (516 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo1x1_Bilinear (5 ms)\n\n64 bit\nadbrun -- taskset c0 /google/src/cloud/fbarchard/nv12/google3/blaze-bin/third_party/libyuv/libyuv_test \u0027--gunit_filter\u003d*NV12Scale*Bilinear\u0027 --libyuv_width\u003d1280 --libyuv_height\u003d720 --libyuv_repeat\u003d1000 --libyuv_flags\u003d-1 --libyuv_cpu_info\u003d-1\n[----------] 11 tests from LibYUVScaleTest (38512 ms total)\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 11 tests from 1 test suite ran. (38512 ms total)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy4_Bilinear (9249 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo1920x1080_Bilinear (8998 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3by8_Bilinear (6263 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3_Bilinear (3818 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy3by4_Bilinear (3367 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleDownBy2_Bilinear (2521 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo569x480_Bilinear (2267 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo640x360_Bilinear (804 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo1280x720_Bilinear (654 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo320x240_Bilinear (560 ms)\n[       OK ] LibYUVScaleTest.NV12ScaleTo1x1_Bilinear (5 ms)\n",
      "revId": "33943d2d76055f5a1348e8a240eb51f97de72e83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5bb600de_dd0946ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1178490
      },
      "writtenOn": "2020-09-28T13:01:56Z",
      "side": 1,
      "message": "\u003e disregard the 32 bit arm build bot failure.  The code is tested on 32 bit arm ok, but not optimized\n\u003e \n\u003e 32 bit on A53\n\nFrank, do you think this is a device issue? I see green builds not on this CL https://ci.chromium.org/p/libyuv/builders/try/android/2153.",
      "parentUuid": "b6683813_d0dce765",
      "revId": "33943d2d76055f5a1348e8a240eb51f97de72e83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "146dd8f5_863464d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2020-09-28T17:24:18Z",
      "side": 1,
      "message": "Its not a code issue, since I\u0027m able to build various forms of ARM 32 and 64 bit, and this particular change is small and portable.\n\nBut I\u0027m not able to build android 32 or 64 bit locally with GN.\nI start my local builds with\nbuild/linux/sysroot_scripts/install-sysroot.py --all \nwhich works\nBoth 32 bit and 64 bit fail for android, while bots work okay for android 64 bit, so if we look at that, this is the error from GN:\n\ngn gen out/Release \u0027--args\u003dis_debug\u003dfalse target_os\u003d\"android\" target_cpu\u003d\"arm64\"\u0027\nERROR at //build/config/python.gni:189:23: Unknown function.\n    _pydeps_entries \u003d filter_exclude(_pydeps_lines, [ \"#*\" ])\n                      ^-------------\nSee //build/config/android/rules.gni:625:5: whence it was called.\n    action_with_pydeps(target_name) {\n    ^--------------------------------\nSee //build/config/android/rules.gni:3894:7: whence it was called.\n      jinja_template(\"${target_name}_manifest\") {\n      ^------------------------------------------\nSee //testing/test.gni:160:7: whence it was called.\n      unittest_apk(_apk_target) {\n      ^--------------------------\nSee //BUILD.gn:266:3: whence it was called.\n  test(\"libyuv_unittest\") {\n  ^------------------------",
      "parentUuid": "5bb600de_dd0946ec",
      "revId": "33943d2d76055f5a1348e8a240eb51f97de72e83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0421d912_1ca8fca0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1178490
      },
      "writtenOn": "2020-09-28T18:14:20Z",
      "side": 1,
      "message": "I suspect this is because in the .gclient file you don\u0027t have \"android\" in the target OS, here is mine:\n\n$ cat ../.gclient\nsolutions \u003d [\n  { \"name\"        : \"src\",\n    \"url\"         : \"https://chromium.googlesource.com/libyuv/libyuv\",\n    \"deps_file\"   : \"DEPS\",\n    \"managed\"     : True,\n    \"custom_deps\" : {\n    },\n    \"custom_vars\": {},\n  },\n];\ntarget_os \u003d [\"android\", \"unix\"];\n\nCan you try to add \"android\" in the \"target_os\" list and run `gclient sync` before trying to create a new Android out folder with `gn gen`?",
      "parentUuid": "146dd8f5_863464d9",
      "revId": "33943d2d76055f5a1348e8a240eb51f97de72e83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6fbcb66_b53e9f20",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2020-09-28T19:00:36Z",
      "side": 1,
      "message": "This is what I had\ncat ../.gclient\nsolutions \u003d [\n  { \"name\"        : \"src\",\n    \"url\"         : \"https://chromium.googlesource.com/libyuv/libyuv\",\n    \"deps_file\"   : \"DEPS\",\n    \"managed\"     : True,\n    \"custom_deps\" : {\n    },\n    \"safesync_url\": \"\",\n  },\n];\ntarget_os \u003d [\"android\", \"linux\"];\n\nSame error switching to your .gclient\ngn gen out/Release \"--args\u003dis_debug\u003dfalse target_os\u003d\\\"android\\\" target_cpu\u003d\\\"arm64\\\"\"\nERROR at //build/config/python.gni:189:23: Unknown function.\n    _pydeps_entries \u003d filter_exclude(_pydeps_lines, [ \"#*\" ])\n                      ^-------------\nSee //build/config/android/rules.gni:625:5: whence it was called.\n    action_with_pydeps(target_name) {\n    ^--------------------------------\nSee //build/config/android/rules.gni:3894:7: whence it was called.\n      jinja_template(\"${target_name}_manifest\") {\n      ^------------------------------------------\nSee //testing/test.gni:160:7: whence it was called.\n      unittest_apk(_apk_target) {\n      ^--------------------------\nSee //BUILD.gn:266:3: whence it was called.\n  test(\"libyuv_unittest\") {\n  ^------------------------",
      "parentUuid": "0421d912_1ca8fca0",
      "revId": "33943d2d76055f5a1348e8a240eb51f97de72e83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}